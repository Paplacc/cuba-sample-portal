<!--
  ~ Copyright (c) 2016 Haulmont
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="main-container">
    <h1>Orders</h1>
    <div class="table-border">
        <table class="shop-list" border="1">
            <col/>
            <col width="50px"/>
            <col width="180px"/>
            <col width="120px"/>
            <tr>
                <th>Created</th>
                <th width="100px">Status</th>
                <th>Total price</th>
                <th ng-if="authenticated">Cancellation</th>
            </tr>
            <tr ng-repeat="item in orders track by $index">
                <td>{{ item.createTs }}</td>
                <td ng-switch="item.status" class="al-center">
                    <span ng-switch-when="10">Cooking</span>
                    <span ng-switch-when="20">Delivering</span>
                    <span ng-switch-when="30">Finished</span>
                    <span ng-switch-when="40">Canceled</span>
                </td>
                <td class="al-center">{{ getOrderPrice(item.id) }} USD</td>
                <td class="al-center item-order-button">
                    <button ng-click="cancelOrder(item.id)" ng-if="item.status != 30 && item.status != 40" ng-model="addToCartButton" ng-click='addToCart(item.id)'>
                        Cancel order
                    </button>
                </td>
            </tr>
        </table>
    </div>
</div>