<!--
  ~ Copyright (c) 2016 Haulmont
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="main-container" ng-controller="FoodListController">
    <h1>Burgers</h1>
    <table width="100%">
        <tr>
            <td valign="top">
                <div class="table-border">
                    <table class="shop-list" border="1">
                        <tr>
                            <th>Name</th>
                            <th width="100px">Size (gr)</th>
                            <th width="100px">Price</th>
                            <th width="120px" ng-if="authenticated">Order</th>
                        </tr>
                        <tr ng-repeat="item in food">
                            <td>{{ item.name }}</td>
                            <td class="al-center">{{ item.weight }}</td>
                            <td class="al-center">{{ item.price }} USD</td>
                            <td class="al-center item-order-button" ng-if="$root.authenticated">
                                <button value="{{ item.id }}" ng-model="addToCartButton" ng-click='addToCart(item.id)'>
                                    Add to cart
                                </button>
                            </td>
                        </tr>
                    </table>
                </div>
            </td>
            <td width="250px" ng-if="$root.authenticated" valign="top">
                <div class="cart" ng-if="$root.authenticated">
                    <div class="cart-header">Cart</div>
                    <div class="table-border">
                        <table class="shop-list">
                            <tr>
                                <td>Burger</td>
                                <td>Price</td>
                                <td></td>
                            </tr>
                            <tr ng-repeat="item in cartItems">
                                <td>{{ item.name }}</td>
                                <td>{{ item.price }} USD</td>
                                <td>
                                    <div class="remove-item" ng-click='removeFromCart(item.id)'>X</div>
                                </td>
                            </tr>
                            <tr ng-if="emptyCart==false" class="cart-total">
                                <td>Total</td>
                                <td>{{ cartTotal }} USD</td>
                            </tr>
                        </table>
                        <div class="empty-cart-message" ng-if="emptyCart">Cart is empty</div>
                    </div>
                    <button ng-disabled="emptyCart" ng-click="placeOrder()">Place order</button>
                </div>
            </td>
        </tr>
    </table>
</div>
