<!--
  ~ Copyright (c) 2016 platform-sample-portal
  -->

<div class="main-container" ng-controller="OrdersController">
    <div class="table-border">
        <table class="shop-list" border="1">
            <col/>
            <col width="50px"/>
            <col width="180px"/>
            <col width="120px"/>
            <tr>
                <th>Created</th>
                <th width="100px">Status</th>
                <th>Total price</th>
                <th ng-if="authenticated">Cancellation</th>
            </tr>
            <tr ng-repeat="item in orders track by $index">
                <td>{{ item.createTs }}</td>
                <td ng-switch="item.status">
                    <span ng-switch-when="10">Cooking</span>
                    <span ng-switch-when="20">Delivering</span>
                    <span ng-switch-when="30">Finished</span>
                    <span ng-switch-when="40">Canceled</span>
                </td>
                <td>{{ totals[$index] }} USD</td>
                <td class="al-center item-order-button">
                    <button ng-click="cancelOrder(item.id)" ng-if="item.status != 30 && item.status != 40" ng-model="addToCartButton" ng-click='addToCart(item.id)'>
                        Cancel order
                    </button>
                </td>
            </tr>
        </table>
    </div>
</div>